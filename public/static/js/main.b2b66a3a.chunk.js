(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{154:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),s=n.n(c),i=n(24),o=n(17),u=n(12),l=n.n(u),j=n(16),d=n(11),b=n(187),p=n(20),h=n(49),f=n.n(h),O="/api";function m(e){return e.data?200===e.data.code?Promise.resolve(e.data.data):Promise.reject(e.data.message):Promise.reject("Something went wrong")}function x(e,t){var n="".concat(O).concat(e),a={token:t||localStorage.token};return f.a.get(n,{headers:a}).then(m)}function v(e,t,n){var a="".concat(O).concat(e),r={token:n||localStorage.token};return f.a.post(a,t,{headers:r}).then(m)}function g(e,t){var n="".concat(O).concat(e);return f.a.post(n,t).then(m)}var w=n(2);var k=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(d.a)(c,2),o=s[0],u=s[1],h=Object(a.useState)(0),f=Object(d.a)(h,2),O=f[0],m=f[1];return Object(a.useEffect)((function(){0!==O&&function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u([]),e.next=4,x("/forest/".concat(t,"/users"));case 4:n=e.sent,u(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p.b.error("Get user failed.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()(O)}),[O]),Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/forest_list");case 3:t=e.sent,r(t),console.log(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),p.b.error(e.t0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(w.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{class:"text-center align-middle",children:"Name"}),Object(w.jsx)("th",{class:"text-center align-middle",children:"District"}),Object(w.jsx)("th",{class:"text-center align-middle",children:"Town"}),Object(w.jsx)("th",{class:"text-center align-middle",children:"Province"}),Object(w.jsx)("th",{class:"text-center align-middle",children:"Size"}),Object(w.jsx)("th",{class:"text-center align-middle",children:"Latitude"}),Object(w.jsx)("th",{class:"text-center align-middle",children:"Longtitude"})]})}),Object(w.jsx)("tbody",{children:n.map((function(e){return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsxs)("tr",{class:"text-center align-middle",onClick:function(){return function(e){e.id_Forest===O?m(0):m(e.id_Forest)}(e)},children:[Object(w.jsx)("td",{children:Object(w.jsx)(i.b,{to:"/home/".concat(e.id_Forest),children:e.name})}),Object(w.jsx)("th",{children:e.district}),Object(w.jsx)("th",{children:e.town}),Object(w.jsx)("th",{children:e.province}),Object(w.jsx)("th",{children:e.size}),Object(w.jsx)("th",{children:e.latitude}),Object(w.jsx)("th",{children:e.longtitude})]}),O===e.id_Forest&&Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colspan:"7",children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"id"}),Object(w.jsx)("th",{children:"username"})]})}),Object(w.jsx)("tbody",{children:o.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.id}),Object(w.jsx)("td",{children:e.username})]})}))})]})})})]})}))})]})},y=n(35),C=new(n(101).w3cwebsocket)("wss://treeguard-uet.herokuapp.com"),S={width:"100%",height:"600px"};function _(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),f=h[0],O=h[1],m=Object(a.useState)(!1),v=Object(d.a)(m,2),g=v[0],k=v[1],_=Object(o.g)().forestId,W=Object(a.useState)({lat:0,lng:0}),N=Object(d.a)(W,2),F=N[0],I=N[1],E=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/devices/".concat(t));case 3:n=e.sent,b(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){E(_)}),[_]);var q=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,r,c,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a=n.loading,r=void 0===a||a,e.prev=1,r&&k(!0),e.next=5,x("/device_messages/".concat(t));case 5:c=e.sent,O(c),r&&k(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/forest/".concat(t));case 3:n=e.sent,I({lat:n[0].latitude,lng:n[0].longtitude}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){C.onopen=function(){console.log("WebSocket Client Connected")}}),[]),Object(a.useEffect)((function(){if(n)return C.onmessage=function(e){var t=JSON.parse(e.data);t.Device_id===n.id_device&&O([t])},function(){C.onmessage=function(){}}}),[n]),Object(a.useEffect)((function(){T(_)}),[_]);return Object(w.jsx)(y.c,{googleMapsApiKey:"AIzaSyB6stZ3_YbkuNXaW-fgrp_RphN4FmJlego",children:Object(w.jsxs)(y.a,{mapContainerStyle:S,center:F,zoom:10,children:[u.map((function(e){return Object(w.jsx)(y.d,{position:{lat:e.latitude,lng:e.longtitude},onClick:function(){c(e),q(e.id_device)}})})),n&&Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(y.b,{position:{lat:n.latitude,lng:n.longtitude},onCloseClick:function(){c(null),O([])},children:g?Object(w.jsx)("div",{children:"Loading..."}):function(e){return e.length>0?Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsxs)("div",{children:["is_removed: ",e[0].is_removed]}),Object(w.jsxs)("div",{children:["is_fire: ",e[0].is_fire]}),Object(w.jsxs)("div",{children:["power: ",e[0].power]}),Object(w.jsxs)("div",{children:["time_receive: ",e[0].time_stamp]})]}):Object(w.jsx)("div",{children:"Kh\xf4ng c\xf3 tin nh\u1eafn"})}(f)})})]})})}var W=r.a.memo(_),N=n(203),F=n(201),I=n(198),E=(n(148),n(46)),q=n(45);function T(){var e={color:"white"},t=Object(a.useState)("none"),n=Object(d.a)(t,2),c=n[0],s=n[1],u=Object(o.f)(),b=Object(a.useState)("none"),p=Object(d.a)(b,2),h=p[0],f=p[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/check-token");case 3:t=e.sent,f(t.id),1===t.authority?s("admin"):2===t.authority&&s("user"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[localStorage.token]);return Object(w.jsxs)(F.a,{bg:"dark",variant:"dark",children:[Object(w.jsx)(F.a.Brand,{children:"UET TreeGuard"}),Object(w.jsx)(N.a,{className:"mr-auto",children:"admin"===c&&Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsx)(N.a.Link,{children:Object(w.jsxs)(i.c,{style:e,to:"/forest_list",children:[Object(w.jsx)(q.a,{icon:E.b})," Danh s\xe1ch r\u1eebng"]})}),Object(w.jsx)(N.a.Link,{children:Object(w.jsxs)(i.c,{style:e,to:"/add_user",children:[Object(w.jsx)(q.a,{icon:E.d})," Th\xeam ng\u01b0\u1eddi d\xf9ng"]})}),Object(w.jsx)(N.a.Link,{children:Object(w.jsxs)(i.c,{style:e,to:"/add_forest",children:[Object(w.jsx)(q.a,{icon:E.d})," Th\xeam khu r\u1eebng"]})}),Object(w.jsx)(N.a.Link,{children:Object(w.jsxs)(i.c,{style:e,to:"/add_device",children:[Object(w.jsx)(q.a,{icon:E.d})," Th\xeam thi\u1ebft b\u1ecb"]})})]})}),Object(w.jsxs)(I.a,{title:"More",className:"mr-sm-4",children:[Object(w.jsx)(I.a.Item,{children:Object(w.jsxs)(i.b,{to:{pathname:"/user_info/".concat(h)},children:["UserInfo ",Object(w.jsx)(q.a,{icon:E.e})]})}),Object(w.jsx)(I.a.Item,{children:Object(w.jsxs)(i.c,{to:"/change_password",children:["Change Password ",Object(w.jsx)(q.a,{icon:E.a})]})}),Object(w.jsx)(I.a.Item,{children:Object(w.jsxs)(i.c,{to:"/",onClick:function(){localStorage.removeItem("token"),u.push(".login")},children:["Sign_Out ",Object(w.jsx)(q.a,{icon:E.c})]})})]})]})}var P=n(195),L=n(193),D=n(199),z=n(194),A=(n(82),n(188)),M=n(191),U=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var G=function(){var e=U(),t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),u=i[0],b=i[1],h=Object(a.useState)(""),f=Object(d.a)(h,2),O=f[0],m=f[1],x=Object(a.useState)(""),g=Object(d.a)(x,2),k=g[0],y=g[1],C=Object(a.useState)(""),S=Object(d.a)(C,2),_=S[0],W=S[1],N=Object(a.useState)(""),F=Object(d.a)(N,2),I=F[0],E=F[1],q=Object(a.useState)(""),T=Object(d.a)(q,2),A=T[0],G=T[1];Object(o.f)(),Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==r&&""!==u&&""!==O&&""!==k&&""!==_&&""!==I&&""!==A){e.next=4;break}return p.b.error("Missing params."),e.abrupt("return");case 4:return e.prev=4,e.next=7,v("/add_forest",{name:r,district:u,town:O,province:k,latitude:_,longtitude:I,size:A});case 7:e.sent,c(""),b(""),m(""),y(""),W(""),E(""),G(""),p.b.success("Add forest success."),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),p.b.error("Add forest failed");case 21:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(w.jsx)(L.a,{}),Object(w.jsxs)("form",{className:e.paper,children:[Object(w.jsxs)(z.a,{container:!0,spacing:2,children:[Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"name",label:"Name",type:"name",id:"name",autoComplete:"name",value:r,onChange:function(e){return c(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"district",label:"District",type:"district",id:"district",autoComplete:"district",value:u,onChange:function(e){return b(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"town",label:"Town",type:"town",id:"town",autoComplete:"town",value:O,onChange:function(e){return m(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"province",label:"Province",type:"province",id:"province",autoComplete:"province",value:k,onChange:function(e){return y(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"latitude",label:"Latitude",type:"latitude",id:"latitude",autoComplete:"latitude",value:_,onChange:function(e){return W(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"longtitude",label:"Longtitude",type:"longtitude",id:"longtitude",autoComplete:"longtitude",value:I,onChange:function(e){return E(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"size",label:"Size",type:"size",id:"size",autoComplete:"size",value:A,onChange:function(e){return G(e.target.value)}})})]}),Object(w.jsx)(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:B,children:"Add"})]})]})},B=n(204),J=n(196),K=n(202),R=n(197),V=n(106),X=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Y(){var e=X(),t=Object(a.useState)(),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),i=Object(d.a)(s,2),u=i[0],b=i[1],h=Object(a.useState)(),f=Object(d.a)(h,2),O=(f[0],f[1]),m=Object(o.f)();function v(){return(v=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,x("/check-token");case 6:t=e.sent,console.log(t),1===t.authority?m.push("/forest_list"):2===t.authority&&m.push("/home_user/".concat(t.forest_id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),localStorage.removeItem("token");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]);var k=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r&&""!==u){e.next=4;break}O(!0),e.next=17;break;case 4:return t.preventDefault(),e.prev=5,e.next=8,g("/login",{username:r,password:u});case 8:n=e.sent,localStorage.setItem("token",n.token),1===n.user.authority?m.push("/forest_list"):2===n.user.authority&&m.push("/home_user/".concat(n.user.forest_id)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),p.b.error(e.t0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(w.jsx)(L.a,{}),Object(w.jsxs)("div",{className:e.paper,children:[Object(w.jsx)(B.a,{className:e.avatar}),Object(w.jsx)(V.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(w.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(w.jsx)(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Username",name:"username",autoComplete:"username",onChange:function(e){return c(e.target.value)},autoFocus:!0}),Object(w.jsx)(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return b(e.target.value)}}),Object(w.jsx)(J.a,{control:Object(w.jsx)(K.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(w.jsx)(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:k,children:"Sign In"}),Object(w.jsx)(z.a,{container:!0,children:Object(w.jsx)(z.a,{item:!0,xs:!0,children:Object(w.jsx)(R.a,{href:"#",variant:"body2",children:"Forgot password?"})})})]})]})]})}var Z=n(200),H=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Q(){var e=H(),t=Object(a.useState)(),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),i=Object(d.a)(s,2),o=i[0],u=i[1],b=Object(a.useState)(""),h=Object(d.a)(b,2),f=h[0],O=h[1],m=Object(a.useState)(),g=Object(d.a)(m,2),k=g[0],y=g[1],C=Object(a.useState)([]),S=Object(d.a)(C,2),_=S[0],W=S[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var N=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==o&&""!==f&&""!==r&&""!==k){e.next=4;break}return p.b.error("Missing params."),e.abrupt("return");case 4:return e.prev=4,e.next=7,v("/register",{username:r,password:o,forest_id:f,confirmPassword:k});case 7:c(""),O(""),u(""),y(""),p.b.success("Add user success."),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),p.b.error("Add user fail.");case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/forest_list");case 3:t=e.sent,W(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p.b.error("Get forest list fail.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(w.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(w.jsx)(L.a,{}),Object(w.jsxs)("div",{className:e.paper,children:[Object(w.jsx)(B.a,{className:e.avatar}),Object(w.jsx)(V.a,{component:"h1",variant:"h5",children:"Add user"}),Object(w.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(w.jsxs)(z.a,{container:!0,spacing:2,children:[Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"username",label:"Username",type:"username",id:"username",autoComplete:"username",value:r,onChange:function(e){return c(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:o,onChange:function(e){return u(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"ConfirmPassword",type:"password",id:"password",autoComplete:"confirmPassword",value:k,onChange:function(e){return y(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsxs)(Z.a.Group,{controlId:"forest-select",children:[Object(w.jsx)(Z.a.Label,{children:"Forest"}),Object(w.jsxs)(Z.a.Control,{as:"select",value:f,onChange:function(e){return O(e.target.value)},children:[""===f&&Object(w.jsx)("option",{value:"",disabled:!0,children:"Select forest"}),_.map((function(e){return Object(w.jsx)("option",{value:e.id_Forest,children:e.name})}))]})]})})]}),Object(w.jsx)(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:N,children:"Sign Up"})]})]})]})}var $={width:"100%",height:"600px"};var ee=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({lat:0,lng:0}),i=Object(d.a)(s,2),o=i[0],u=i[1],b=Object(a.useState)([]),p=Object(d.a)(b,2),h=p[0],f=p[1],O=Object(a.useState)(!1),m=Object(d.a)(O,2),v=m[0],g=m[1],k=Object(a.useState)([]),C=Object(d.a)(k,2),S=C[0],_=C[1],W=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/devices/".concat(t));case 3:n=e.sent,f(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){W(window.location.pathname.substring(11))}),[window.location.pathname.substring(11)]);var N=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/forest/".concat(t));case 3:n=e.sent,u({lat:n[0].latitude,lng:n[0].longtitude}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){N(window.location.pathname.substring(11))}),[window.location.pathname.substring(11)]),Object(a.useEffect)((function(){var e;return n&&(e=setInterval((function(){return F(n.id_device,{loading:!1})}),2e3)),function(){clearInterval(e)}}),[n]);var F=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,r,c,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a=n.loading,r=void 0===a||a,e.prev=1,r&&g(!0),e.next=5,x("/device_messages/".concat(t));case 5:c=e.sent,_(c),r&&g(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(y.c,{googleMapsApiKey:"AIzaSyB6stZ3_YbkuNXaW-fgrp_RphN4FmJlego",children:Object(w.jsxs)(y.a,{mapContainerStyle:$,center:o,zoom:10,children:[h.map((function(e){return Object(w.jsx)(y.d,{position:{lat:e.latitude,lng:e.longtitude},onClick:function(){c(e),F(e.id_device)}})})),n&&Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(y.b,{position:{lat:n.latitude,lng:n.longtitude},onCloseClick:function(){c(null),_([])},children:v?Object(w.jsx)("div",{children:"Loading..."}):function(e){return e.length>0?Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsxs)("div",{children:["is_stroked: ",e[0].is_stroked]}),Object(w.jsxs)("div",{children:["is_removed: ",e[0].is_removed]}),Object(w.jsxs)("div",{children:["is_fire: ",e[0].is_fire]}),Object(w.jsxs)("div",{children:["power: ",e[0].power]})]}):Object(w.jsx)("div",{children:"Kh\xf4ng c\xf3 tin nh\u1eafn"})}(S)})})]})})},te=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var ne=function(){var e=te(),t=Object(a.useState)(),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),i=Object(d.a)(s,2),u=i[0],b=i[1],h=Object(a.useState)(),f=Object(d.a)(h,2),O=f[0],m=f[1],g=Object(a.useState)(""),k=Object(d.a)(g,2),y=k[0],C=k[1],S=(Object(o.f)(),Object(a.useState)([])),_=Object(d.a)(S,2),W=_[0],N=_[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/forest_list");case 3:t=e.sent,N(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p.b.error("Get forest list fail.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var F=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==r&&""!==u&&""!==O&&""!==y){e.next=4;break}return p.b.error("Missing params."),e.abrupt("return");case 4:return e.prev=4,e.next=7,v("/add_device",{name:r,latitude:u,longtitude:O,forestId:y});case 7:c(""),m(""),b(""),C(""),p.b.success("Create success!"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),p.b.error("Something wrong!!!");case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(w.jsx)(L.a,{}),Object(w.jsxs)("form",{className:e.paper,children:[Object(w.jsxs)(z.a,{container:!0,spacing:2,children:[Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"name",label:"Name",type:"name",id:"name",autoComplete:"name",value:r,onChange:function(e){return c(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"latitude",label:"Latitude",type:"latitude",id:"latitude",autoComplete:"latitude",value:u,onChange:function(e){return b(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsx)(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"longtitude",label:"Longtitude",type:"longtitude",id:"longtitude",autoComplete:"longtitude",value:O,onChange:function(e){return m(e.target.value)}})}),Object(w.jsx)(z.a,{item:!0,xs:12,children:Object(w.jsxs)(Z.a.Group,{controlId:"forest-select",children:[Object(w.jsx)(Z.a.Label,{children:"Forest"}),Object(w.jsxs)(Z.a.Control,{as:"select",value:y,onChange:function(e){return C(e.target.value)},children:[""===y&&Object(w.jsx)("option",{value:"",disabled:!0,children:"Select forest"}),W.map((function(e){return Object(w.jsx)("option",{value:e.id_Forest,children:e.name})}))]})]})})]}),Object(w.jsx)(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:F,children:"Add"})]})]})};function ae(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(o.g)().infoUser,i=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/user_info/".concat(t));case 3:n=e.sent,c(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i(s)}),[s]),console.log(n),Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsx)("label",{children:"Last Name: "}),Object(w.jsx)("label",{}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{children:"First Name: "}),Object(w.jsx)("label",{}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{children:"Email: "}),Object(w.jsx)("label",{}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{children:"Phone: "}),Object(w.jsx)("label",{}),Object(w.jsx)("br",{})]})}var re=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)}}}));function ce(){var e=re();return Object(w.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(w.jsx)(L.a,{}),Object(w.jsxs)("div",{className:e.paper,children:[Object(w.jsx)(B.a,{className:e.avatar}),Object(w.jsx)(V.a,{component:"h1",variant:"h5",children:"Change Password"}),Object(w.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(w.jsx)(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"current password",label:"Current Password",name:"current password",autoComplete:"current password",autoFocus:!0}),Object(w.jsx)(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"new password",label:"New Password",name:"new password",autoComplete:"new password",autoFocus:!0}),Object(w.jsx)(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"confirm new password",label:"Confirm New Password",name:"confirm new password",autoComplete:"confirm new password",autoFocus:!0}),Object(w.jsx)(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Change"})]})]})]})}function se(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.c,{children:[Object(w.jsx)(o.a,{path:"/",exact:!0,component:Y}),Object(w.jsx)(o.a,{component:function(){return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)(T,{}),Object(w.jsxs)(o.c,{children:[Object(w.jsx)(o.a,{path:"/home_user",component:ee}),Object(w.jsx)(o.a,{path:"/home/:forestId",component:W}),Object(w.jsx)(o.a,{path:"/add_user",component:Q}),Object(w.jsx)(o.a,{path:"/forest_list",component:k}),Object(w.jsx)(o.a,{path:"/add_forest",component:G}),Object(w.jsx)(o.a,{path:"/add_device",component:ne}),Object(w.jsx)(o.a,{path:"/user_info/:infoUser",component:ae}),Object(w.jsx)(o.a,{path:"/change_password",component:ce})]})]})}})]}),Object(w.jsx)(p.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})]})})}var ie=r.a.memo(se);s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(ie,{})}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.b2b66a3a.chunk.js.map